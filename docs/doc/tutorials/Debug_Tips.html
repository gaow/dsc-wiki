<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<title>Debug_Tips</title><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>








<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>

<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>

<style>  /* defined here in case the main.css below cannot be loaded */
.lev1 {margin-left: 80px}
.lev2 {margin-left: 100px}
.lev3 {margin-left: 120px}
.lev4 {margin-left: 140px}
.lev5 {margin-left: 160px}
.lev6 {margin-left: 180px}
</style>

<link rel="stylesheet" type="text/css" href="../../css/jt.css">
<link rel="stylesheet" type="text/css" href="../../css/toc2.css">

<script src="../../js/toc2.js"></script>
<script src="../../js/docs.js"></script>

<script>
$( document ).ready(function(){

            var cfg={'threshold':3,     // depth of toc (number of levels)
             'number_sections': false,  // sections numbering
             'toc_cell': false,          // useless here
             'toc_window_display': true, // display the toc window
             "toc_section_display": "block", // display toc contents in the window
             'sideBar':true,       // sidebar or floating window
             'navigate_menu':false       // navigation menu (only in liveNotebook -- do not change)
            }

            var st={};                  // some variables used in the script
            st.rendering_toc_cell = false;
            st.config_loaded = false;
            st.extension_initialized=false;
            st.nbcontainer_marginleft = $('#notebook-container').css('margin-left')
            st.nbcontainer_marginright = $('#notebook-container').css('margin-right')
            st.nbcontainer_width = $('#notebook-container').css('width')
            st.oldTocHeight = undefined
            st.cell_toc = undefined;
            st.toc_index=0;

            // fire the main function with these parameters


            table_of_contents(cfg,st);


            var file=tutorialsDict[$("h1:first").attr("id")];
            $("#toc-level0 a").css("color","#126dce");
            $('a[href="#'+$("h1:first").attr("id")+'"]').hide()
            
            var tuts=tutorials;
            var pos=tutorials.indexOf(file);
        
            for (var a=pos;a>=0;a--){
                  var name=tuts[a]
                  $('<li><a href="'+name+'.html">'+name.replace(/_/g," ")+'</a></li>').insertBefore("#toc-level0 li:eq(0)");
            }
            $('a[href="'+file+'.html'+'"]').css("color","#126dce");

            $('<li id="indexHome"><a href="../../tutorials.html"><b>Tutorials Home<b></a></li>').insertBefore("#toc-level0 li:eq(0)");
            for (var a=pos+1;a<tuts.length;a++){
                  var name=tuts[a]
                  $(".toc #toc-level0").append('<li><a href="'+name+'.html">'+name.replace(/_/g," ")+'</a></li>');
            }
            $("#toc-header").hide();


    });
</script>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Debugging-in-DSC2">Debugging in DSC2<a class="anchor-link" href="#Debugging-in-DSC2">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Intermediate-scripts">Intermediate scripts<a class="anchor-link" href="#Intermediate-scripts">&#182;</a></h2><p>Under the hood, DSC2 generates R, Python or Shell scripts based on computational routines provided in <code>exec</code> entries and executes these scripts to complete the computational tasks. When there is an error from provided computational routine the DSC procedure will fail. However the automatically generated script will be saved to disk and DSC2 will point you to the script in question so that you can debug interactively. For example, we break the R script <code>R/scores/MSE.R</code> in the <a href="Quick_Start.html">Quick Start tutorial</a> by executing an undefined function <code>undefined_foo_showoff</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="err">!</span> <span class="n">cat</span> <span class="n">R</span><span class="o">/</span><span class="n">scores</span><span class="o">/</span><span class="n">MSE</span><span class="o">.</span><span class="n">R</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>undefined_foo_showoff()
mse = (mean_est-true_mean)^2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And the DSC run fails as expected:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="err">!</span> <span class="n">dsc</span> <span class="o">-</span><span class="n">x</span> <span class="n">settings</span><span class="o">.</span><span class="n">dsc</span> <span class="o">-</span><span class="n">j8</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>INFO: DSC script exported to <span class="ansi-green-fg">settings.html</span>
INFO: Constructing DSC from <span class="ansi-green-fg">settings.dsc</span> ...
DSC:  45%|████▌     | 5/11 [00:04&lt;00:06,  1.04s/it]Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
Error: could not find function &#34;undefined_foo_showoff&#34;
Execution halted
DSC:  91%|█████████ | 10/11 [00:07&lt;00:00,  1.35it/s]
<span class="ansi-red-intense-fg">ERROR</span>: <span class="ansi-red-intense-fg">Failed to execute workflow DSC
[mse_1_3s [&#39;dsc_result/rt.R_2_mean.R_1_MS] RuntimeError:
	Failed to process statement sos_run(&#39;core_mse:1&#39;, output_f...&#39;input&#39;])\n: Failed to execute workflow core_mse
[core_mse_1 (MSE.R)] RuntimeError:
	Failed to execute script (ret=1). 
Please use command
    Rscript --default-packages=datasets,methods,utils,stats,grDevices,graphics  /home/gaow/GIT/dsc2/vignettes/one_sample_location/.sos/core_mse_1_0.R
under /home/gaow/GIT/dsc2/vignettes/one_sample_location to test it.
[core_mse] RuntimeError:
	1 failed step: core_mse_1 (MSE.R)
[mse_1_2s [&#39;dsc_result/rnorm.R_8_median.R] RuntimeError:
	Failed to process statement sos_run(&#39;core_mse:1&#39;, output_f...&#39;input&#39;])\n: Failed to execute workflow core_mse
[core_mse_1 (MSE.R)] RuntimeError:
	Failed to execute script (ret=1). 
Please use command
    Rscript --default-packages=datasets,methods,utils,stats,grDevices,graphics  /home/gaow/GIT/dsc2/vignettes/one_sample_location/.sos/core_mse_1_0.R
under /home/gaow/GIT/dsc2/vignettes/one_sample_location to test it.
-- 12 lines --
[core_mse_1 (MSE.R)] RuntimeError:
	Failed to execute script (ret=1). 
Please use command
    Rscript --default-packages=datasets,methods,utils,stats,grDevices,graphics  /home/gaow/GIT/dsc2/vignettes/one_sample_location/.sos/core_mse_1_0.R
under /home/gaow/GIT/dsc2/vignettes/one_sample_location to test it.
[core_mse] RuntimeError:
	1 failed step: core_mse_1 (MSE.R)
[DSC] RuntimeError:
	4 failed steps: mse_1_2s, mse_1_4s, mse_1_3s, mse_1_1s</span>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The error message is quite verbose as multiple instances of DSC jobs involving <code>MSE.R</code> have failed. If you look at the end of the error message you should see that the problematic script is saved to <code>.sos/core_mse_1_0.R</code>. You can execute this script to debug without having to worry about the input / output because DSC has automatically completed it. Once you have fixed this intermediate script you can apply the fix to your original script and re-run the DSC.</p>
<h2 id="Log-files">Log files<a class="anchor-link" href="#Log-files">&#182;</a></h2><p>The run-time information are kept in greater detail in <code>*.log</code> file. For the example above you should see <code>settings.log</code> generated for the DSC run. You can look into the log file for more run-time information and perform diagnostics.</p>

</div>
</div>
</div>
    </div>
  </div>
</body>

 


</html>
