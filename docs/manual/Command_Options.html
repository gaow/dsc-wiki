<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="ipynb_website:version" content="0.9.1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" type="text/css" href="../css/jt.css">
<link rel="stylesheet" type="text/css" href="../css/toc2.css">
<link href="../site_libs/jqueryui-1.11.4/jquery-ui.css">
<link rel="stylesheet" href="../site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<link rel="stylesheet" href="../site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
<script src="../site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="../site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="../site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<link rel="stylesheet"
      href="../site_libs/highlight/textmate.css"
      type="text/css" />
<script src="../site_libs/highlight/highlight.js"></script>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>
<script src="../js/toc2.js"></script>
<script src="../js/docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
<script>
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["STIX","TeX"],
            styles: {
                scale: 110,
                ".MathJax_Display": {
                    "font-size": "110%",
                }
            }
        }
    });
</script>
<script>
$( document ).ready(function(){
            var cfg={'threshold':3,     // depth of toc (number of levels)
             'number_sections': false,
             'toc_cell': false,          // useless here
             'toc_window_display': true, // display the toc window
             "toc_section_display": "block", // display toc contents in the window
             'sideBar':true,       // sidebar or floating window
             'navigate_menu':false       // navigation menu (only in liveNotebook -- do not change)
            }
            var st={};                  // some variables used in the script
            st.rendering_toc_cell = false;
            st.config_loaded = false;
            st.extension_initialized=false;
            st.nbcontainer_marginleft = $('#notebook-container').css('margin-left')
            st.nbcontainer_marginright = $('#notebook-container').css('margin-right')
            st.nbcontainer_width = $('#notebook-container').css('width')
            st.oldTocHeight = undefined
            st.cell_toc = undefined;
            st.toc_index=0;
            // fire the main function with these parameters
            table_of_contents(cfg, st);
            var file=manualDict[$("h1:first").attr("id")];
            $("#toc-level0 a").css("color","#126dce");
            $('a[href="#'+$("h1:first").attr("id")+'"]').hide()
            var docs=manualArray;
            var pos=manualArray.indexOf(file);
            for (var a=pos;a>=0;a--){
                  var name=docs[a]
                  $('<li><a href="'+name+'.html"><font color="#073642"><b>'+name.replace(/_/g," ")+'</b></font></a></li>').insertBefore("#toc-level0 li:eq(0)");
            }
            $('a[href="'+file+'.html'+'"]').css("color","#126dce");
            for (var a=pos+1;a<docs.length;a++){
                  var name=docs[a]
                  $(".toc #toc-level0").append('<li><a href="'+name+'.html"><font color="#073642"><b>'+name.replace(/_/g," ")+'</b></font></a></li>');
            }
            $("#toc-header").hide();
    });
</script>
<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');
  // mark it active
  menuAnchor.parent().addClass('active');
  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>
<div class="container-fluid main-container">
<!-- tabsets -->
<script src="../site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>
<title>Dynamic Statistical Comparisons</title>
<style type = "text/css">
body {
  font-family: "Droid Sans";
  padding-top: 66px;
  padding-bottom: 40px;
}
</style>
</head>
<body>
<div tabindex="-1" id="notebook" class="border-box-sizing">
<div class="container" id="notebook-container">
<!-- code folding -->
<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Dynamic Statistical Comparisons</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Overview</a>
</li>
<li>
  <a href="../manual.html">Manual</a>
</li>
<li>
  <a href="../tutorials.html">Tutorials</a>
</li>
<li>
  <a href="../examples.html">Examples</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
    <a href="http://github.com/stephenslab/dsc2">
    <span class="fa fa-github"></span>
    </a>
    </li>
    </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Command-interface">Command interface<a class="anchor-link" href="#Command-interface">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>DSC2 implements DSC by executing DSC script and annotation via command line program <code>dsc</code>:</p>
<h2 id="Help-message">Help message<a class="anchor-link" href="#Help-message">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="err">!</span> <span class="n">dsc</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: dsc [-h] [--version] [-v {0,1,2,3,4}] [-j N] [-b str] [-f]
           [--target str] [-x DSC script] [--sequence str [str ...]]
           [--seeds values [values ...]] [--recover levels] [--ignore-errors]
           [--clean [str [str ...]]] [--host str] [-a DSC Annotation]
           [-e block:variable [block:variable ...]] [--tags str [str ...]]
           [-o str] [--distribute [files [files ...]]]
optional arguments:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  -v {0,1,2,3,4}, --verbosity {0,1,2,3,4}
                        Output error (0), warning (1), info (2), debug (3) and
                        trace (4) information. Default to 2.
  -j N                  Number of maximum concurrent processes.
  -b str                Benchmark name. Will overwrite &#34;DSC::run&#34; in DSC
                        configuration file.
  -f                    Force re-run -x / -e commands from scratch.
  --target str          The ultimate target of a DSC benchmark is the name of
                        the last block in a DSC sequence. This option is
                        relevant to -a / -e commands when there exists
                        multiple DSC sequences with different targets.
Execute DSC:
  -x DSC script, --execute DSC script
                        Execute DSC.
  --sequence str [str ...]
                        DSC sequences to be executed. It will override the
                        DSC::run entry when specified. Multiple sequences are
                        allowed. Each input should be a quoted string defining
                        a valid DSC sequence, or referring to the key of an
                        existing sequence in the DSC script. Multiple such
                        strings should be separated by space.
  --seeds values [values ...]
                        This will override any &#34;seed&#34; property in the DSC
                        script. This feature is useful for using a small
                        number of seeds for a test run. Example: `--seeds 1`,
                        `--replicate 1 2 3 4`, `--seeds {1..10}`, `--seeds
                        &#34;R(1:10)&#34;`
  --recover levels      Recover DSC based on names (not contents) of existing
                        files. Level 1 recover will try to reconstruct the
                        entire benchmark skipping existing files. Level 2
                        recover will only use existing files to reconstruct
                        the benchmark output metadata, making it possible to
                        explore partial benchmark results without having to
                        wait until completion of entire benchmark.
  --ignore-errors       Bypass all errors from computational programs. This
                        will keep the benchmark running but all results will
                        be set to missing values and the problematic script
                        will be saved when applicable.
  --clean [str [str ...]]
                        Instead of running DSC, output for one or multiple
                        steps from previous DSC runs are to be cleaned. Each
                        step should be a valid DSC step in the format of
                        &#34;block[index]&#34;, or &#34;block&#34; for all steps in the block.
                        Multiple steps should be separated by space. When &#34;--
                        clean&#34; is used with &#34;-f&#34;, all specified files will be
                        removed regardless of their step execution status.
  --host str            URL of Redis server for distributed computation.
Annotate DSC:
  -a DSC Annotation, --annotate DSC Annotation
                        Annotate DSC.
Extract DSC results:
  -e block:variable [block:variable ...], --extract block:variable [block:variable ...]
                        Variable(s) to extract. Variable(s) should be
                        specified by &#34;block:variable&#34;. Valid `variable` are
                        variables found in `return` of the corresponding DSC
                        block.
  --tags str [str ...]  Tags to extract. The &#34;&amp;&amp;&#34; sign can be used to specify
                        intersect of multiple tags. The &#34;=&#34; sign can be used
                        to rename extracted tags. Default to extracting for
                        all tags.
  -o str                Output file name.
Distribute DSC:
  --distribute [files [files ...]]
                        Additional files to distribute. This option will
                        create a tarball for the DSC benchmark for
                        distribution. If additional files are given to this
                        option, then those files will also be included in the
                        benchmark.
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Global-options">Global options<a class="anchor-link" href="#Global-options">&#182;</a></h2><ul>
<li><code>-j</code> specifies number of CPU threads to use. You may run DSC in parallel on a single desktop, or on distributed computer system that runs <code>Redis</code> server / worker (FIXME: link to tutorial), in which case <code>--host</code> will have to be specified.</li>
<li><code>-v</code> controls verbosity level. Default level is 2. If you encounter error messages you can increase the verbosity level to output more information to diagnose the cause.</li>
<li><code>-b</code> changes the default output filename / directory specified in the DSC script.</li>
<li><code>-f</code> forces executing DSC or extracting DSC results without using existing cache. During a DSC execution, cache files of intermediate output and parameters are saved so that future re-runs of the same computation will be skipped. The <code>-f</code> option forces DSC to ignore existing cache and run the entire procedure from scratch.</li>
<li><code>--target</code> by default, is the name of the last DSC block if the DSC procedure only runs one sequence. Otherwise the name of the last DSC block has to be provided when <code>-a</code> or <code>-e</code> switches are turned on.</li>
</ul>
<h2 id="DSC-Execution-options">DSC Execution options<a class="anchor-link" href="#DSC-Execution-options">&#182;</a></h2><ul>
<li><code>-x</code> specifies the DSC configuration script.</li>
<li><code>--sequence</code> specifies which particular DSC sequence to run. See this <a href="DSC_Execution.html#Load-sequence-from-command-line">section</a> for an example.</li>
<li><code>--recover</code> executes DSC using existing output files without checking for their properties. This is useful when files are migrated from one computational system to another: <code>--recover</code> prevents DSC from re-running due to change of file properties (mostly absoluate path to file) in this case. This option takes parameters 1 or 2. 1 will re-run the benchmark ignoring existing output; 2 will attempt to recover the output metadata without re-running the benchmark at all (this is useful when the benchmark is not complete but a preview of results is desired).</li>
<li><code>--seeds</code> is useful in exploratory analysis and debug. One can use <code>--seeds 1</code> or <code>--seeds 1 2</code> to overwrite all <code>seed</code> properties defined in the DSC file, thus only executing a small number of replicates, for testing purpose.</li>
<li><code>--ignore-errors</code> is a flag which, when added, will ignore errors from user provided scripts thus keep the benchmark running. There are often situations when we use other people's software packages that produces errors in random corner cases that will interrupt the benchmark from moving forward. It is suggested that one should develop the DSC benchmark without adding this flag, and use this flag to run the benchmark in large scale when all codes are gauranteed to work in most situations. Instead of throwing an error, DSC will <strong>store the problematic chunk of code that resulted in an error to the output, creating a fake output file that keeps DSC moving</strong>. These faked output will result in a chain reaction of failure in every other step that depends on them. In the end the <code>dsc -e</code> option will try to deal with this situation by extracting values whenever available, otherwise using the problematic file name in place of the values. In this way the users can either filter out these bad output as if they are missing values, or track those files to examine what goes wrong, by executing them as plain text script.</li>
<li><code>--clean</code> will remove output from specified DSC sequences / steps, instead of executing them.</li>
</ul>
<h2 id="DSC-annotation">DSC annotation<a class="anchor-link" href="#DSC-annotation">&#182;</a></h2><p>These options will annotate DSC by applying "tags" to DSC results. This is a pre-processing step to DSC results extraction</p>
<ul>
<li><code>-a</code> specifies annotation files. See this <a href="DSC_Annotation.html">section</a> for an example annotation file.</li>
</ul>
<h2 id="DSC-results-extraction">DSC results extraction<a class="anchor-link" href="#DSC-results-extraction">&#182;</a></h2><p>These options will extract annotated DSC to a separate file for further analysis.</p>
<ul>
<li><code>-e</code> specifies the name of variable to extract.</li>
<li><code>--tags</code> annotations to extract. It is possible to extract intersection of annotations using the <code>&amp;&amp;</code> operator. One can also rename extracted fields using <code>=</code> operator. For example, <code>--tags "case1 = small_sample &amp;&amp; large_features &amp;&amp; elasticnet"</code>.</li>
<li><code>-o</code> specifies ultimate output data file name.</li>
</ul>
<h2 id="DSC-release">DSC release<a class="anchor-link" href="#DSC-release">&#182;</a></h2><p>The <code>--distribute</code> option will bundle the DSC benchmark into a tarball that can be uploaded to <code>shinydsc</code> for data query and visualization, or be transfered to other computational environment. DSC benchmarks should be released with this command.</p>
<ul>
<li><code>--distribute</code> when used without any argument it will pack project meta information, DSC configuration and annotation script (if applicable), and benchmark output into a tarball. This tarball contains enough information to be used with <code>shinydsc</code>. To port the complete benchmark, one should specify additional files such as computational scripts and data used, eg, <code>--distribute /path/to/scripts</code>. </li>
</ul>
</div>
</div>
</div>
<hr>
&copy 2016-2017 <a href="http://stephenslab.uchicago.edu">Stephens lab</a> at the University of Chicago.<br>&nbsp;&nbsp;&nbsp;This wiki is available under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution license</a> (read <a href="https://creativecommons.org/licenses/by/4.0/legalcode">full legal text</a>).
</div>
</div>
</body>
</html>
