
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="ipynb_website:version" content="0.9.3" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" type="text/css" href="../css/jt.css">

<link rel="stylesheet" type="text/css" href="../css/toc2.css">

<link href="../site_libs/jqueryui-1.11.4/jquery-ui.css">
<link rel="stylesheet" href="../site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<link rel="stylesheet" href="../site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
<script src="../site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="../site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="../site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>

<link rel="stylesheet"
      href="../site_libs/highlightjs-1.1/textmate.css"
      type="text/css" />

<script src="../site_libs/highlightjs-1.1/highlight.js"></script>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>

<script src="../js/doc_toc.js"></script>
<script src="../js/docs.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
        },
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["TeX"],
            styles: {
                scale: 110,
                ".MathJax_Display": {
                    "font-size": "110%",
                }
            }
        }
    });
</script>
<script>
function filterDataFrame(id) {
    var input = document.getElementById("search_" + id);
    var filter = input.value.toUpperCase();
    var table = document.getElementById("dataframe_" + id);
    var tr = table.getElementsByTagName("tr");
    // Loop through all table rows, and hide those who don't match the search query
    for (var i = 1; i < tr.length; i++) {
        for (var j = 0; j < tr[i].cells.length; ++j) {
            var matched = false;
            if (tr[i].cells[j].innerHTML.toUpperCase().indexOf(filter) != -1) {
                tr[i].style.display = "";
                matched = true
                break;
            }
            if (!matched)
                tr[i].style.display = "none";
        }
    }
}
function sortDataFrame(id, n, dtype) {
    var table = document.getElementById("dataframe_" + id);
    var tb = table.tBodies[0]; // use `<tbody>` to ignore `<thead>` and `<tfoot>` rows
    var tr = Array.prototype.slice.call(tb.rows, 0); // put rows into array
    if (dtype === 'numeric') {
        var fn = function(a, b) { 
            return parseFloat(a.cells[n].textContent) <= parseFloat(b.cells[n].textContent) ? -1 : 1;
        }
    } else {
        var fn = function(a, b) {
            var c = a.cells[n].textContent.trim().localeCompare(b.cells[n].textContent.trim()); 
            return c > 0 ? 1 : (c < 0 ? -1 : 0) }
    }
    var isSorted = function(array, fn) {
        if (array.length < 2)
            return 1;
        var direction = fn(array[0], array[1]); 
        for (var i = 1; i < array.length - 1; ++i) {
            var d = fn(array[i], array[i+1]);
            if (d == 0)
                continue;
            else if (direction == 0)
                direction = d;
            else if (direction != d)
                return 0;
            }
        return direction;
    }
    var sorted = isSorted(tr, fn);
    if (sorted == 1 || sorted == -1) {
        // if sorted already, reverse it
        for(var i = tr.length - 1; i >= 0; --i)
            tb.appendChild(tr[i]); // append each row in order
    } else {
        tr = tr.sort(fn);
        for(var i = 0; i < tr.length; ++i)
            tb.appendChild(tr[i]); // append each row in order
    }
}
</script>

<script>
$( document ).ready(function(){
            var cfg={'threshold':3,     // depth of toc (number of levels)
             'number_sections': false,
             'toc_cell': false,          // useless here
             'toc_window_display': true, // display the toc window
             "toc_section_display": "block", // display toc contents in the window
             'sideBar':true,       // sidebar or floating window
             'navigate_menu':false       // navigation menu (only in liveNotebook -- do not change)
            }
            var st={};                  // some variables used in the script
            st.rendering_toc_cell = false;
            st.config_loaded = false;
            st.extension_initialized=false;
            st.nbcontainer_marginleft = $('#notebook-container').css('margin-left')
            st.nbcontainer_marginright = $('#notebook-container').css('margin-right')
            st.nbcontainer_width = $('#notebook-container').css('width')
            st.oldTocHeight = undefined
            st.cell_toc = undefined;
            st.toc_index=0;
            // fire the main function with these parameters
            table_of_contents(cfg, st);
            var file=tutorialsDict[$("h1:first").attr("id")];
            $("#toc-level0 a").css("color","#126dce");
            $('a[href="#'+$("h1:first").attr("id")+'"]').hide()
            var docs=tutorialsArray;
            var pos=tutorialsArray.indexOf(file);
            for (var a=pos;a>=0;a--){
                  var name=docs[a]
                  $('<li><a href="'+name+'.html"><font color="#073642"><b>'+name.replace(/_/g," ")+'</b></font></a></li>').insertBefore("#toc-level0 li:eq(0)");
            }
            $('a[href="'+file+'.html'+'"]').css("color","#126dce");
            for (var a=pos+1;a<docs.length;a++){
                  var name=docs[a]
                  $(".toc #toc-level0").append('<li><a href="'+name+'.html"><font color="#073642"><b>'+name.replace(/_/g," ")+'</b></font></a></li>');
            }
            // $("#toc-header").hide(); // comment out because it prevents search bar from displaying
    });
</script>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');
  // mark it active
  menuAnchor.parent().addClass('active');
  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>
<div class="container-fluid main-container">
<!-- tabsets -->
<script src="../site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>



<title>Dynamic Statistical Comparisons</title>

<style type = "text/css">
body {
  font-family: "Droid Sans";
  padding-top: 66px;
  padding-bottom: 40px;
}
</style>
</head>

<body>
<div tabindex="-1" id="notebook" class="border-box-sizing">
<div class="container" id="notebook-container">

<!-- code folding -->

<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">Dynamic Statistical Comparisons</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
<li>
  <a href="../index.html">Overview</a>
</li>
        
<li>
  <a href="../quick_start.html">Quick Start</a>
</li>
        
<li>
  <a href="../manual.html">Manual</a>
</li>
        
<li>
  <a href="../tutorials.html">Tutorials</a>
</li>
        
<li>
  <a href="../examples.html">Examples</a>
</li>
        
      </ul>
        
<ul class="nav navbar-nav navbar-right">
<li>
   <a href="https://github.com/stephenslab/dsc2"> <span class="fa fa-github"></span> </a>
</li>
</ul>
        
      </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Debugging-in-DSC2">Debugging in DSC2<a class="anchor-link" href="#Debugging-in-DSC2">&#182;</a></h1><p><strong>FIXME: need to update it with better examples</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Intermediate-scripts">Intermediate scripts<a class="anchor-link" href="#Intermediate-scripts">&#182;</a></h2><p>Under the hood, DSC2 generates R, Python or Shell scripts based on computational routines specified in module headline, adding to the generated scripts specification of input and output variables, then executes the complete script. In this processes there are typically two types of possible errors:</p>
<ul>
<li>There is an error from user provided routines</li>
<li>There is an inconsistency between DSC script interface and user provided routines</li>
</ul>
<p>In the presence of errors DSC will fail. However the automatically generated script will be saved to disk and DSC2 will point you to the script in question so that you can reproduce and fix the bugs. Here we look at an example from <a href="https://github.com/stephenslab/dsc2-blm">a benchmark on application of Bayesian Linear Model in genomic prediction</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="err">!</span> <span class="n">dsc</span> <span class="n">blm</span><span class="o">.</span><span class="n">dsc</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The error message is a bit verbose but the part most relevant to debugging are highlighted in green color on your terminal. Towards the end of the error message you should see that the problematic script is saved to <code>.sos/core_score_1_1_6.R</code>. You can also see that a file called <code>dsc_blm.transcript.html</code> is generated.</p>
<h2 id="Debug-with-the-problematic-script">Debug with the problematic script<a class="anchor-link" href="#Debug-with-the-problematic-script">&#182;</a></h2><p>As prompted in the error message, let's try to execute <code>.sos/core_score_1_1_6.R</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="c1">## r script UUID: dcfc55ef9ae7c9eab6397eefe425afc0</span>
<span class="c1">## BEGIN code by DSC2</span>
<span class="n">DSC_LIBPATH</span> <span class="o">&lt;-</span> <span class="n">NULL</span>
<span class="n">source</span><span class="p">(</span><span class="s2">&quot;/home/gaow/GIT/lab-dsc/dsc2-blm/.sos/.dsc/utils.R&quot;</span><span class="p">)</span>
<span class="n">DSC_714A6C66AA</span> <span class="o">&lt;-</span> <span class="nb">list</span><span class="p">()</span>
<span class="nb">input</span><span class="o">.</span><span class="n">files</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s1">&#39;dsc_blm/datamaker.R_7.rds&#39;</span><span class="p">,</span> <span class="s1">&#39;dsc_blm/datamaker.R_7_gemma_bslmm_1.rds&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="ow">in</span> <span class="mi">1</span><span class="p">:</span><span class="n">length</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">files</span><span class="p">))</span> <span class="n">DSC_714A6C66AA</span> <span class="o">&lt;-</span> <span class="n">DSC_LMERGE</span><span class="p">(</span><span class="n">DSC_714A6C66AA</span><span class="p">,</span> <span class="n">readRDS</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">files</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="n">meta</span> <span class="o">&lt;-</span> <span class="n">DSC_714A6C66AA</span><span class="err">$</span><span class="n">meta</span>
<span class="n">prediction</span> <span class="o">&lt;-</span> <span class="n">DSC_714A6C66AA</span><span class="err">$</span><span class="n">prediction</span>
<span class="c1">## END code by DSC2</span>
<span class="n">score</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="n">prediction</span><span class="p">){</span>
  <span class="n">true</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">meta</span><span class="err">$</span><span class="n">true</span><span class="o">.</span><span class="n">value</span>
  <span class="n">mse</span> <span class="o">=</span> <span class="n">mean</span><span class="p">((</span><span class="n">true</span><span class="o">.</span><span class="n">value</span><span class="o">-</span><span class="n">prediction</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
  <span class="n">rmse</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">mean</span><span class="p">((</span><span class="n">true</span><span class="o">.</span><span class="n">value</span><span class="o">-</span><span class="n">prediction</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span>
  <span class="n">pcor</span> <span class="o">=</span> <span class="n">cor</span><span class="p">(</span><span class="n">prediction</span><span class="p">,</span> <span class="n">true</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
  <span class="n">slope</span> <span class="o">=</span> <span class="n">lm</span><span class="p">(</span><span class="n">true</span><span class="o">.</span><span class="n">value</span><span class="o">~</span><span class="n">prediction</span><span class="p">)</span><span class="err">$</span><span class="n">coef</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
  <span class="k">return</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">mse</span><span class="o">=</span><span class="n">mse</span><span class="p">,</span> <span class="n">rmse</span><span class="o">=</span><span class="n">rmse</span><span class="p">,</span> <span class="n">pcor</span><span class="o">=</span><span class="n">pcor</span><span class="p">,</span> <span class="n">slope</span><span class="o">=</span><span class="n">slope</span><span class="p">))</span>
<span class="p">}</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">score</span><span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="n">prediction</span><span class="p">)</span>
<span class="c1">## BEGIN code by DSC2</span>
<span class="n">saveRDS</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">mse</span><span class="o">=</span><span class="n">output</span><span class="err">$</span><span class="n">mse</span><span class="p">,</span> <span class="n">pcor</span><span class="o">=</span><span class="n">output</span><span class="err">$</span><span class="n">pcor</span><span class="p">,</span> <span class="n">slope</span><span class="o">=</span><span class="n">output</span><span class="err">$</span><span class="n">slope</span><span class="p">),</span> <span class="s1">&#39;dsc_blm/datamaker.R_7_gemma_bslmm_1_score.R_1.rds&#39;</span><span class="p">)</span>
<span class="c1">## END code by DSC2</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You see that the script was propagated by DSC2 with variable assignment and input / output specifications. Also this script failed because of <code>incompatible dimensions</code> as indidcated by R. So what's going on? The function call takes two variables, <code>meta</code> and <code>prediction</code>. Let's examine what these variables look like, by copying chunk of the code that generated <code>meta</code> and <code>prediction</code> to an interactive analysis console and look at them:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">source</span><span class="p">(</span><span class="s2">&quot;/home/gaow/GIT/lab-dsc/dsc2-blm/.sos/.dsc/utils.R&quot;</span><span class="p">)</span>
<span class="n">DSC_714A6C66AA</span> <span class="o">&lt;-</span> <span class="nb">list</span><span class="p">()</span>
<span class="nb">input</span><span class="o">.</span><span class="n">files</span> <span class="o">&lt;-</span> <span class="n">c</span><span class="p">(</span><span class="s1">&#39;dsc_blm/datamaker.R_7.rds&#39;</span><span class="p">,</span> <span class="s1">&#39;dsc_blm/datamaker.R_7_gemma_bslmm_1.rds&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="ow">in</span> <span class="mi">1</span><span class="p">:</span><span class="n">length</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">files</span><span class="p">))</span> <span class="n">DSC_714A6C66AA</span> <span class="o">&lt;-</span> <span class="n">DSC_LMERGE</span><span class="p">(</span><span class="n">DSC_714A6C66AA</span><span class="p">,</span> <span class="n">readRDS</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">files</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<span class="n">meta</span> <span class="o">&lt;-</span> <span class="n">DSC_714A6C66AA</span><span class="err">$</span><span class="n">meta</span>
<span class="n">prediction</span> <span class="o">&lt;-</span> <span class="n">DSC_714A6C66AA</span><span class="err">$</span><span class="n">prediction</span>
<span class="k">print</span><span class="p">(</span><span class="n">meta</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s2">&quot;length meta: &quot;</span><span class="p">,</span> <span class="n">length</span><span class="p">(</span><span class="n">meta</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="n">prediction</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s2">&quot;length prediction: &quot;</span><span class="p">,</span> <span class="n">length</span><span class="p">(</span><span class="n">prediction</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It looks like <code>meta$true.value</code> has a lot more elements than <code>prediction</code>. Therefore the statement <code>mse = mean((true.value-prediction)^2)</code> must fail. We know from the <a href="https://github.com/stephenslab/dsc2-blm/blob/master/blm.dsc">DSC script</a> that since we have set <code>test_size = 100</code> we do expect both <code>prediction</code> and <code>true.value</code> to be of length 100. So there must be something wrong with <code>prediction</code>, that somehow it gets truncated. This variable comes from <code>dsc_blm/datamaker.R_7_gemma_bslmm_1.rds</code> so there is nothing we can do in this script to fix the problem.</p>
<p>However in practice, perhaps you run into error in your DSC benchmark that can obviously be identified and fixed in this script. You should fix it, test it out interactively, and if it works, you should apply your patch to the original scripts that DSC calls because fixing these propagated intermediate scripts is not enough. In this example the <code>score</code> function seems fine so there is nothing to do to the <a href="https://github.com/stephenslab/dsc2-blm/blob/master/score.R"><code>score.R</code> script</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Debugging-with-the-entire-transcript-profile">Debugging with the entire transcript profile<a class="anchor-link" href="#Debugging-with-the-entire-transcript-profile">&#182;</a></h2><p>Now we want to find out which command has generated this set of problematic <code>prediction</code> data. That is, we want to find the command that generated <code>dsc_blm/datamaker.R_7_gemma_bslmm_1.rds</code> from which <code>prediction</code> is loaded. However the problematic script above did not tell us where this data comes from. This leads us to examining the entire transcript of the DSC benchmark, written in <code>dsc_blm.transcript.html</code>.</p>
<p>You can open up this file in your web browser, and <em>search</em> (<code>ctrl-F</code>) for the phrase <code>dsc_blm/datamaker.R_7_gemma_bslmm_1.rds</code>. This leads you to the following (this is a screenshot of a chunk of <code>dsc_blm.transcript.html</code>):</p>
<p><img src="../img/debug-tips-1.png" alt="debug-1"></p>
<p>Unsurprisingly, running the code by itself produces no error message -- this is expected because otherwise DSC would have failed at this stage. However we know from previous investigation that the output does not look right. Usually one should start interacting with this new piece of code, fixing it until the output looks good, and apply the patch to the original benchmark code, and finally run DSC again.</p>
<p>For this example, what exactly is the problem that led to truncated result? Well, the issue is not very apparent unless you are aware of the parallel proessing nature of DSC and familiar with the use of DSC <code>File()</code> operator. However this is a very common mistake one can make and this is why we want to show it here. Please take a look at line 7 of the R code:</p>
<div class="highlight"><pre><span></span>result <span class="o">&lt;-</span> <span class="s">&#39;gemma.out&#39;</span>
</pre></div>
<p>This is code automatically generated by DSC, based on your DSC script. In the DSC script the corresponding section is:</p>

<pre><code>gemma_bslmm(bayeslasso):
  exec: gemma.bslmm.wrapper.R
  .alias: gemma_bslmm
  params:
    result: gemma.out
    .alias: args = List(w = nIter, s = burnin, result = result)</code></pre>
<p>However it turns out here <code>gemma.out</code> is used as temporary file prefix for intermediate results from <code>gemma</code>, a command line program. It is directly called from shell, see Line 27, 37 and 42 of the R code. In practice what happens is all parallel DSC instances all creates / writes on the <strong>same file</strong> <code>gemma.out</code>, creating I/O race conditions. Therefore the file would have been corrupted, leading to truncated files.</p>
<p>To fix the problem one should use <code>File()</code> operator for such cases:</p>

<pre><code>gemma_bslmm(bayeslasso):
  exec: gemma.bslmm.wrapper.R
  .alias: gemma_bslmm
  params:
    result: File()
    .alias: args = List(w = nIter, s = burnin, result = result)</code></pre>
<p>This is the 2nd type of error listed in the beginning of this document, ie, an error in communication between DSC and your script. After fixing the error you can run DSC again:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="err">!</span> <span class="n">dsc</span> <span class="n">blm</span><span class="o">.</span><span class="n">dsc</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You see that all <code>gemma_bslmm</code> related codes are re-executed and the DSC benchmark completed without an issue.</p>
<h2 id="Command-options---target-and---seed">Command options <code>--target</code> and <code>--seed</code><a class="anchor-link" href="#Command-options---target-and---seed">&#182;</a></h2><p>It is highly recommanded that these options be used to check the correctness of DSC setup and codes, before running the entire benchmark. For example <code>--seed 1 2</code> will reset all <code>seed</code> properties to only using two seeds 1 and 2, thus performing 2 replicates when in fact the DSC specification would involve hundreds. This can make the benchmark run through relatively quickly to ensure everthing is correct. Additionally it is suggested that a benchmark be executed block by block: the next block is only attempted when there is no obvious problem with the previous block. For example for a DSC with sequence:</p>

<pre><code>DSC:
  run: simulate * test * score</code></pre>
<p>When the benchmark is tested for the first time, one should run 3 commands each introducing a new block sequentially:</p>

<pre><code>dcs file.dsc ... --target simulate --seed 1
dcs file.dsc ... --target "simulate * test" --seed 1
dcs file.dsc ... --target "simulate * test * score" --seed 1</code></pre>
<h2 id="Log-files">Log files<a class="anchor-link" href="#Log-files">&#182;</a></h2><p>The run-time information are kept in greater detail in <code>*.log</code> file, when used with verbosity level greater than <code>2</code> (eg. <code>-v 3</code>). For the example above you should see <code>dsc_blm.log</code> generated for the DSC run. You can look into the log file for more run-time information to help performing diagnostics.</p>

</div>
</div>
</div>
<hr>
&copy 2016-2018 <a href="http://home.uchicago.edu/gaow">Gao Wang</a> at Stephens Lab, the University of Chicago.<br>&nbsp;&nbsp;&nbsp;This wiki is available under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution license</a> (read <a href="https://creativecommons.org/licenses/by/4.0/legalcode">full legal text</a>).

</div>
</div>
</body>
</html>
