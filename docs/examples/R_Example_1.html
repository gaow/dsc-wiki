<!DOCTYPE html>
<html lang="en">
  

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>R Example 1</title>
  <meta name="description" content="An R example: ashr benchmark">

  <link rel="canonical" href="https://stephenslab.github.io/dsc-wiki/examples/R_Example_1.html">
  <link rel="alternate" type="application/rss+xml" title="DSC" href="https://stephenslab.github.io/dsc-wiki/feed.xml">

  <meta property="og:url"         content="https://stephenslab.github.io/dsc-wiki/examples/R_Example_1.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="R Example 1" />
<meta property="og:description" content="An R example: ashr benchmark" />
<meta property="og:image"       content="" />


  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage":
    "https://stephenslab.github.io/dsc-wiki/examples/R_Example_1.html",
  "headline":
    "R Example 1",
  "datePublished":
    "2019-05-16T12:12:06-05:00",
  "dateModified":
    "2019-05-16T12:12:06-05:00",
  "description":
    "An R example: ashr benchmark",
  "author": {
    "@type": "Person",
    "name": "Stephens Lab, University of Chicago"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Data 100 at UC Berkeley",
    "logo": {
      "@type": "ImageObject",
      "url": "https://stephenslab.github.io/dsc-wiki",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "https://stephenslab.github.io/dsc-wiki",
    "height": 60,
    "width": 60
  }
}

  </script>
  <link rel="stylesheet" href="/dsc-wiki/assets/css/styles.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css ">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">

  <!-- <link rel="manifest" href="/manifest.json"> -->
  <!-- <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#efae0a"> -->
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#233947">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="/dsc-wiki/images/favicon.ico">

  <!-- MathJax Config -->
  <!-- Allow inline math using $ and automatically break long math lines -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    CommonHTML: {
        linebreaks: {
            automatic: true,
        },
    },
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML' async></script>

  <!-- DOM updating function -->
  <script>
const runWhenDOMLoaded = cb => {
  if (document.readyState != 'loading') {
    cb()
  } else if (document.addEventListener) {
    document.addEventListener('DOMContentLoaded', cb)
  } else {
    document.attachEvent('onreadystatechange', function() {
      if (document.readyState == 'complete') cb()
    })
  }
}

// Helper function to init things quickly
initFunction = function(myfunc) {
  runWhenDOMLoaded(myfunc);
  document.addEventListener('turbolinks:load', myfunc);
};
</script>

  <!-- Define some javascript variables that will be useful in other javascript -->
  <script>
    const site_basename = '/dsc-wiki';
  </script>

  <!-- Add AnchorJS to let headers be linked -->
  <script src="/dsc-wiki/assets/js/anchor.min.js"  type="text/javascript"></script>
  <script>

initFunction(function () {
    anchors.add("main h1, main h2, main h3, main h4")
});

</script>

  <!-- Include Turbolinks to make page loads fast -->
  <!-- https://github.com/turbolinks/turbolinks -->
  <script src="/dsc-wiki/assets/js/turbolinks.js" async></script>
  <meta name="turbolinks-cache-control" content="no-cache">

  <!-- Load nbinteract for widgets -->
  

  <!-- Load Thebelab for interactive widgets -->
  <!-- Include Thebelab for interactive code if it's enabled -->



  <!-- Load the auto-generating TOC -->
  <script src="/dsc-wiki/assets/js/tocbot.min.js"  type="text/javascript"></script>
  <script>
var initToc = function () {
  tocbot.init({
    tocSelector: 'nav.onthispage',
    contentSelector: '.c-textbook__content',
    headingSelector: 'h2, h3',
    orderedList: false,
    collapseDepth: 6,
    listClass: 'toc__menu',
    activeListItemClass: "",  // Not using
    activeLinkClass: "", // Not using
  });
  tocbot.refresh();
}
initFunction(initToc);
</script>

  <!-- Google analytics -->
  <script src="/dsc-wiki/assets/js/ga.js" async></script>

  <!-- Clipboard copy button -->
  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" async></script>

  <!-- Load JS that depends on site variables -->
  <script>
/**
 * Set up copy/paste for code blocks
 */
const codeCellId = index => `codecell${index}`

const clipboardButton = id =>
  `<a id="copy-button-${id}" class="btn copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#${id}">
    <img src="/dsc-wiki/assets/images/copy-button.svg" alt="Copy to clipboard">
  </a>`

// Clears selected text since ClipboardJS will select the text when copying
const clearSelection = () => {
  if (window.getSelection) {
    window.getSelection().removeAllRanges()
  } else if (document.selection) {
    document.selection.empty()
  }
}

// Changes tooltip text for two seconds, then changes it back
const temporarilyChangeTooltip = (el, newText) => {
  const oldText = el.getAttribute('data-tooltip')
  el.setAttribute('data-tooltip', newText)
  setTimeout(() => el.setAttribute('data-tooltip', oldText), 2000)
}

const addCopyButtonToCodeCells = () => {
  // If ClipboardJS hasn't loaded, wait a bit and try again. This
  // happens because we load ClipboardJS asynchronously.
  if (window.ClipboardJS === undefined) {
    setTimeout(addCopyButtonToCodeCells, 250)
    return
  }

  const codeCells = document.querySelectorAll('div.c-textbook__content > div.highlighter-rouge > div.highlight > pre, div.input_area pre')
  codeCells.forEach((codeCell, index) => {
    const id = codeCellId(index)
    codeCell.setAttribute('id', id)
    if (document.getElementById("copy-button" + id) == null) {
      codeCell.insertAdjacentHTML('afterend', clipboardButton(id));
    }
  })

  const clipboard = new ClipboardJS('.copybtn')
  clipboard.on('success', event => {
    clearSelection()
    temporarilyChangeTooltip(event.trigger, 'Copied!')
  })

  clipboard.on('error', event => {
    temporarilyChangeTooltip(event.trigger, 'Failed to copy')
  })

  // Get rid of clipboard before the next page visit to avoid memory leak
  document.addEventListener('turbolinks:before-visit', () =>
    clipboard.destroy()
  )
}

initFunction(addCopyButtonToCodeCells);
</script>


  <!-- Hide cell code -->
  
<script>
/**
Add buttons to hide code cells
*/


var setCodeCellVisibility = function(inputField, kind) {
    // Update the image and class for hidden
    var id = inputField.getAttribute('data-id');
    var codeCell = document.querySelector(`#${id} div.highlight`);

    if (kind === "visible") {
        codeCell.classList.remove('hidden');
        inputField.checked = true;
    } else {
        codeCell.classList.add('hidden');
        inputField.checked = false;
    }
}

var toggleCodeCellVisibility = function (event) {
    // The label is clicked, and now we decide what to do based on the input field's clicked status
    if (event.target.tagName === "LABEL") {
        var inputField = event.target.previousElementSibling;
    } else {
        // It is the span inside the target
        var inputField = event.target.parentElement.previousElementSibling;
    }

    if (inputField.checked === true) {
        setCodeCellVisibility(inputField, "visible");
    } else {
        setCodeCellVisibility(inputField, "hidden");
    }
}


// Button constructor
const hideCodeButton = id => `<input class="hidebtn" type="checkbox" id="hidebtn${id}" data-id="${id}"><label title="Toggle cell" for="hidebtn${id}" class="plusminus"><span class="pm_h"></span><span class="pm_v"></span></label>`

var addHideButton = function () {
  // If a hide button is already added, don't add another
  if (document.querySelector('div.hidecode input') !== null) {
      return;
  }

  // Find the input cells and add a hide button
  document.querySelectorAll('div.input_area').forEach(function (item, index) {
    if (!item.classList.contains("hidecode")) {
        // Skip the cell if it doesn't have a hidecode class
        return;
    }

    const id = codeCellId(index)
    item.setAttribute('id', id);
    // Insert the button just inside the end of the next div
    item.querySelector('div').insertAdjacentHTML('beforeend', hideCodeButton(id))

    // Set up the visibility toggle
    hideLink = document.querySelector(`#${id} div.highlight + input + label`);
    hideLink.addEventListener('click', toggleCodeCellVisibility)
  });
}


// Initialize the hide buttos
var initHiddenCells = function () {
    // Add hide buttons to the cells
    addHideButton();

    // Toggle the code cells that should be hidden
    document.querySelectorAll('div.hidecode input').forEach(function (item) {
        setCodeCellVisibility(item, 'hidden');
        item.checked = true;
    })
}

initFunction(initHiddenCells);

</script>


  <!-- Load custom website scripts -->
  <script src="/dsc-wiki/assets/js/scripts.js" async></script>

  <!-- Load custom user CSS and JS  -->
  <script src="/dsc-wiki/assets/custom/custom.js" async></script>
  <link rel="stylesheet" href="/dsc-wiki/assets/custom/custom.css">

  <!-- Update interact links w/ REST param, is defined in includes so we can use templates -->
  

  <!-- Lunr search code - will only be executed on the /search page -->
  <script src="/dsc-wiki/assets/js/lunr/lunr.min.js" type="text/javascript"></script>
  <script>var initQuery = function() {
  // See if we have a search box
  var searchInput = document.querySelector('input#lunr_search');
  if (searchInput === null) {
    return;
  }

  // Function to parse our lunr cache
  var idx = lunr(function () {
    this.field('title')
    this.field('excerpt')
    this.field('categories')
    this.field('tags')
    this.ref('id')

    this.pipeline.remove(lunr.trimmer)

    for (var item in store) {
      this.add({
        title: store[item].title,
        excerpt: store[item].excerpt,
        categories: store[item].categories,
        tags: store[item].tags,
        id: item
      })
    }
  });

  // Run search upon keyup
  searchInput.addEventListener('keyup', function () {
    var resultdiv = document.querySelector('#results');
    var query = document.querySelector("input#lunr_search").value.toLowerCase();
    var result =
      idx.query(function (q) {
        query.split(lunr.tokenizer.separator).forEach(function (term) {
          q.term(term, { boost: 100 })
          if(query.lastIndexOf(" ") != query.length-1){
            q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
          }
          if (term != ""){
            q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
          }
        })
      });

      // Empty the results div
      while (resultdiv.firstChild) {
        resultdiv.removeChild(resultdiv.firstChild);
      }

    resultdiv.insertAdjacentHTML('afterbegin', '<p class="results__found">'+result.length+' Result(s) found</p>');
    for (var item in result) {
      var ref = result[item].ref;
      if(store[ref].teaser){
        var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<div class="archive__item-teaser">'+
                '<img src="'+store[ref].teaser+'" alt="">'+
              '</div>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      else{
    	  var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      resultdiv.insertAdjacentHTML('beforeend', searchitem);
    }
  });
};

initFunction(initQuery);
</script>
</head>

  <body>
    <!-- .js-show-sidebar shows sidebar by default -->
    <div id="js-textbook" class="c-textbook js-show-sidebar">
      



<nav id="js-sidebar" class="c-textbook__sidebar">
  <a href="https://github.com/stephenslab/dsc"><img src="/dsc-wiki/images/logo.png" class="textbook_logo" id="sidebar-logo" data-turbolinks-permanent/></a>
  <h2 class="c-sidebar__title">DSC</h2>
  <ul class="c-sidebar__chapters">
    
      
      
        <li class="c-sidebar__chapter"><a class="c-sidebar__entry" href="/dsc-wiki/search.html"><img src="/dsc-wiki/images/search.svg" alt="Search This Wiki"></a></li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/dsc-wiki/overview.html"
        >
          
          Home
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/dsc-wiki/installation.html"
        >
          
          Installation
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/dsc-wiki/faq.html"
        >
          
          FAQ
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/dsc-wiki/reference/reference.html"
        >
          
          Reference manual
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/reference/Terminology.html"
                >
                  
                  Terminology
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/reference/DSC_Configuration.html"
                >
                  
                  DSC configuration syntax
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/reference/DSC_Execution.html"
                >
                  
                  Running DSC
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/reference/DSC_Filtering.html"
                >
                  
                  Extracting DSC results
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/reference/Command_Options.html"
                >
                  
                  Command-line reference
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/reference/Road_Map.html"
                >
                  
                  Development roadmap
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/reference/Implementation_Details.html"
                >
                  
                  Implementation details
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/reference/Unsupported_Features.html"
                >
                  
                  Unsupported features
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">User guide</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/dsc-wiki/first_course/first_course.html"
        >
          
          First course on DSC
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/first_course/Intro_DSC.html"
                >
                  
                  A brief introduction to DSC
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/first_course/Intro_Syntax_I.html"
                >
                  
                  DSC basics, part I
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/first_course/Intro_Syntax_II.html"
                >
                  
                  DSC basics, part II
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/first_course/Prototype_Tips.html"
                >
                  
                  Developing benchmarks
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/first_course/Debug_Tips.html"
                >
                  
                  Debug in DSC
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/first_course/Syntax_Tips.html"
                >
                  
                  Syntax tips
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/dsc-wiki/faq.html"
        >
          
          Other tutorials
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/advanced_course/5_Minutes_Python.html"
                >
                  
                  Working with Python
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/advanced_course/DSC_Data.html"
                >
                  
                  DSC data flow
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/advanced_course/5_Minutes_RPY.html"
                >
                  
                  Working with R and Python
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/advanced_course/Multiple_Pipelines.html"
                >
                  
                  Running multiple pipelines
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/advanced_course/Rmd_Executable.html"
                >
                  
                  Using Rmd files as module executables
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/advanced_course/Remote_Computations.html"
                >
                  
                  Running DSC on remote computers
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/advanced_course/DSC_Docker.html"
                >
                  
                  Running DSC in Docker
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry c-sidebar__entry--active"
          href="/dsc-wiki/examples.html"
        >
          
          Benchmark examples
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry c-sidebar__entry--active"
                  href="/dsc-wiki/examples/R_Example_1.html"
                >
                  
                  R Example 1
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/dsc-wiki/examples/R_Example_2.html"
                >
                  
                  R Example 2
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
  </ul>
  <p class="sidebar_footer">Copyright (c) 2016-2018 <br> <a href="http://home.uchicago.edu/gaow">Gao Wang</a>, <a href="http://stephenslab.uchicago.edu">Matthew Stephens</a>, <a href="https://pcarbo.github.io">Peter Carbonetto</a> and contributors.<br></p>
</nav>

      
      <!-- Empty sidebar placeholder that we'll auto-fill with javascript -->
      <aside class="sidebar__right">
          <header><h4 class="nav__title"><i class="fa fa-list"></i>   Contents</h4></header>
          <nav class="onthispage">
          </nav>
      </aside>
      
      <main class="c-textbook__page" tabindex="-1">
          <div class="o-wrapper">
            <div class="c-sidebar-toggle">
  <!-- We show the sidebar by default so we use .is-active -->
  <button
    id="js-sidebar-toggle"
    class="hamburger hamburger--arrowalt is-active"
  >
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
    <span class="c-sidebar-toggle__label">Toggle Sidebar</span>
  </button>
</div>

            
<div class="buttons">






</div>


            <div class="c-textbook__content">
              <h1 id="an-r-example-ashr-benchmark">An R example: ashr benchmark</h1>

<p>This is a more advanced application of DSC with R scripts. We demonstrate in this tutorial features of DSC including:</p>

<ul>
  <li>Inline code as parameters</li>
  <li><code class="highlighter-rouge">@ALIAS</code> decorator</li>
  <li>R library installation and version check</li>
  <li>Use <code class="highlighter-rouge">dscrutils</code> to query results limited to given conditions</li>
</ul>

<h2 id="dsc-problem">DSC Problem</h2>
<p>The DSC problem is based on the ASH example of DSCR (<a href="https://github.com/stephens999/dscr/blob/master/vignettes/dsc_shrink.rmd">R Markdown version</a> and <a href="../external/dscr_dsc_shrink.html">HTML version</a>). Material to run this tutorial can be found in <a href="https://github.com/stephenslab/dsc/tree/master/vignettes/ash">DSC vignettes repo</a>. Description below is copied from the DSCR vignette:</p>

<blockquote>
  <p>To illustrate we consider the problem of shrinkage, which is tackled by the <code class="highlighter-rouge">ashr</code> package at <a href="http://www.github.com/stephens999/ashr">http://www.github.com/stephens999/ashr</a>. The input to this DSC is a set of estimates $\hat\beta$,  with associated standard errors $s$. These values are estimates of actual (true) values for $\beta$, so the meta-data in this case are the true values of beta. Methods must take $\hat\beta$ and $s$ as input, and provide as output “shrunk” estimates for $\beta$ (so output is a list with one element, called <code class="highlighter-rouge">beta_est</code>, which is a vector of estimates for beta). The score function then scores methods on their RMSE comparing <code class="highlighter-rouge">beta_est</code> with beta.</p>
</blockquote>

<blockquote>
  <p>First define a datamaker which simulates true values of $\beta$ from a user-specified normal mixture, where one of the components is a point mass at 0 of mass $\pi_0$, which is a user-specified parameter. It then simulates $\hat\beta \sim N(\beta_j,s_j)$ (where $s_j$ is again user-specified). It returns the true $\beta$ values and true $\pi_0$ value as meta-data, and the estimates $\hat\beta$ and $s$ as input-data.</p>
</blockquote>

<blockquote>
  <p>Now define a <a href="https://github.com/stephenslab/dsc/blob/master/vignettes/ash/bin/runash.R">method wrapper</a> for the <code class="highlighter-rouge">ash</code> function from the <code class="highlighter-rouge">ashr</code> package. Notice that this wrapper does not return output in the required format - it simply returns the entire ash output.</p>
</blockquote>

<blockquote>
  <p>Finally add a generic (can be used to deal with both $\pi$ and $\beta$) <a href="https://github.com/stephenslab/dsc/blob/master/vignettes/ash/bin/score.R">score function</a> to evaluate estimates by <code class="highlighter-rouge">ash</code>.</p>
</blockquote>

<h2 id="dsc-specification">DSC Specification</h2>
<p>The problem is fully specified in DSC syntax below, following the structure of the original <code class="highlighter-rouge">DSCR</code> implementation:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env dsc</span>
<span class="na">simulate</span><span class="pi">:</span> <span class="s">datamaker.R</span>
    <span class="s"># module input and variables</span>
    <span class="s">mixcompdist</span><span class="pi">:</span> <span class="s">normalmix</span>
    <span class="s">g</span><span class="pi">:</span> <span class="s">(c(2/3,1/3),c(0,0),c(1,2)),</span>
       <span class="s">(rep(1/7,7),c(-1.5,-1,-0.5,0,0.5,1,1.5),rep(0.5,7)),</span>
       <span class="s">(c(1/4,1/4,1/3,1/6),c(-2,-1,0,1),c(2,1.5,1,1))</span>
    <span class="s">min_pi0</span><span class="pi">:</span> <span class="s">0</span>
    <span class="s">max_pi0</span><span class="pi">:</span> <span class="s">1</span>
    <span class="s">nsamp</span><span class="pi">:</span> <span class="s">1000</span>
    <span class="s">betahatsd</span><span class="pi">:</span> <span class="s">1</span>
    <span class="s"># module decoration</span>
    <span class="s">@ALIAS</span><span class="pi">:</span> <span class="s">args = List()</span>
    <span class="s"># module output</span>
    <span class="s">$data</span><span class="pi">:</span> <span class="s">data</span>
    <span class="s">$true_beta</span><span class="pi">:</span> <span class="s">data$meta$beta</span>
    <span class="s">$true_pi0</span><span class="pi">:</span> <span class="s">data$meta$pi0</span>

<span class="na">shrink</span><span class="pi">:</span> <span class="s">runash.R</span>
    <span class="s"># module input and variables</span>
    <span class="s">data</span><span class="pi">:</span> <span class="s">$data</span>
    <span class="s">mixcompdist</span><span class="pi">:</span> <span class="s2">"</span><span class="s">normal"</span><span class="err">,</span> <span class="s2">"</span><span class="s">halfuniform"</span>
    <span class="c1"># module output</span>
    <span class="s">$ash_data</span><span class="pi">:</span> <span class="s">ash_data</span>
    <span class="s">$beta_est</span><span class="pi">:</span> <span class="s">ashr::get_pm(ash_data)</span>
    <span class="s">$pi0_est</span><span class="pi">:</span> <span class="s">ashr::get_pi0(ash_data)</span>

<span class="na">score_beta</span><span class="pi">:</span> <span class="s">score.R</span>
    <span class="s"># module input and variables</span>
    <span class="s">est</span><span class="pi">:</span> <span class="s">$true_beta</span>
    <span class="s">truth</span><span class="pi">:</span> <span class="s">$beta_est</span>
    <span class="s"># module output aka pipeline variable</span>
    <span class="s">$mse</span><span class="pi">:</span> <span class="s">result</span>

<span class="na">score_pi0</span><span class="pi">:</span> <span class="s">score.R</span>
    <span class="s"># module input and variables</span>
    <span class="s">est</span><span class="pi">:</span> <span class="s">$pi0_est</span>
    <span class="s">truth</span><span class="pi">:</span> <span class="s">$true_pi0</span>
    <span class="s"># module output</span>
    <span class="s">$mse</span><span class="pi">:</span> <span class="s">result</span>

<span class="na">DSC</span><span class="pi">:</span>
    <span class="c1"># module ensembles</span>
    <span class="na">define</span><span class="pi">:</span>
      <span class="na">score</span><span class="pi">:</span> <span class="s">score_beta, score_pi0</span>
    <span class="c1"># pipelines</span>
    <span class="na">run</span><span class="pi">:</span> <span class="s">simulate * shrink * score</span>
    <span class="c1"># runtime environments</span>
    <span class="na">R_libs</span><span class="pi">:</span> <span class="s">ashr@stephens999 (2.2.7+)</span>
    <span class="na">exec_path</span><span class="pi">:</span> <span class="s">bin</span>
    <span class="na">output</span><span class="pi">:</span> <span class="s">dsc_result</span>
</code></pre></div></div>

<p>It is suggested that you check out the corresponding R codes for modules <a href="https://github.com/stephenslab/dsc/blob/master/vignettes/ash/bin/datamaker.R"><code class="highlighter-rouge">simulate</code></a>, <a href="https://github.com/stephenslab/dsc/blob/master/vignettes/ash/bin/runash.R"><code class="highlighter-rouge">shrink</code></a> and the <a href="https://github.com/stephenslab/dsc/blob/master/vignettes/ash/bin/score.R">score function</a> to figure out how DSC communicates with your R scripts.</p>

<p>Here we will walk through all modules to highlight important syntactical elements.</p>

<h3 id="module-simulate">Module <code class="highlighter-rouge">simulate</code></h3>

<h4 id="un-quoted-string-as-parameters-and-output-values">Un-quoted string as parameters and output values</h4>

<p>The parameter <code class="highlighter-rouge">g</code> has three candidate values, all of which are un-quoted string to be plugged to script as is. In other words, DSC will interpret each as, eg, <code class="highlighter-rouge">g &lt;- list(c(2/3,1/3),c(0,0),c(1,2))</code> so that <code class="highlighter-rouge">g</code> will be assigned <strong>at runtime</strong> the output of R codes as specified for use with <code class="highlighter-rouge">datamaker.R</code>. Similarly, <code class="highlighter-rouge">mixcompdist: normalmix</code> will be interpreted as <code class="highlighter-rouge">mixcompdist &lt;- normalmix</code> – this statement is valid as long as <code class="highlighter-rouge">datamaker.R</code> has loaded <code class="highlighter-rouge">ashr</code> library, because <code class="highlighter-rouge">normalmix</code> is function from <code class="highlighter-rouge">ashr</code> library.</p>

<h4 id="decorator-alias-for-r-list">Decorator <code class="highlighter-rouge">@ALIAS</code> for R list</h4>
<p>Inside <code class="highlighter-rouge">datamaker.R</code> the input for the core function is a single parameter of an R <a href="http://www.r-tutor.com/r-introduction/list">list</a> containing all parameters specified in this module. The decorator <code class="highlighter-rouge">@ALIAS</code> uses a special DSC operation <code class="highlighter-rouge">List()</code> to consolidate these parameters into an R list <code class="highlighter-rouge">args</code> which corresponds to the input parameter in <code class="highlighter-rouge">datamaker.R</code>.</p>

<h3 id="module-shrink">Module <code class="highlighter-rouge">shrink</code></h3>
<p>Here notice the output variable are also provided at runtime: DSC allows output variables to directly accept pieces of codes that can provide the desired output. In this case, <code class="highlighter-rouge">get_pi0</code> function from <code class="highlighter-rouge">ashr</code> package will get us what we need.</p>

<h3 id="module-beta_score--pi0_score">Module <code class="highlighter-rouge">beta_score</code> &amp; <code class="highlighter-rouge">pi0_score</code></h3>
<p>These modules uses the same module executable <code class="highlighter-rouge">score.R</code> but on different input data. Due to differences in variable names it makes sense to configure them in separate blocks. However an alternative style that configures them in the same block is:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">score_beta, score_pi0</span><span class="pi">:</span> <span class="s">score.R</span>
    <span class="s">@score_beta</span><span class="pi">:</span>
        <span class="na">est</span><span class="pi">:</span> <span class="s">$true_beta</span>
        <span class="na">truth</span><span class="pi">:</span> <span class="s">$beta_est</span>
        <span class="s">$mse_beta</span><span class="pi">:</span> <span class="s">result</span>
    <span class="err">@</span><span class="na">score_pi0</span><span class="pi">:</span>
        <span class="na">est</span><span class="pi">:</span> <span class="s">$pi0_est</span>
        <span class="na">truth</span><span class="pi">:</span> <span class="s">$true_pi0</span>
        <span class="s">$mse_pi</span><span class="pi">:</span> <span class="s">result</span>        
</code></pre></div></div>

<p>Here <code class="highlighter-rouge">@*</code> are module specific variable decorations that configures input and output such that different modules can be allowed in the same block.</p>

<p>Notice that different from the <a href="https://github.com/stephens999/dscr/blob/master/vignettes/dsc_shrink.rmd">DSCR ASH example</a> the output score is an “atomic” value (a float number). If the outcome object <code class="highlighter-rouge">result</code> is not such a simple object, for example it returns an R list, then you may want to code it to only extract the information you need so that they’ll be readily extractable in the benchmark query process – the query process can only extract <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/is.recursive.html">atomic types</a>. To do so, you can write something like, e.g., <code class="highlighter-rouge">$mse_pi: score_output$mse</code>.</p>

<h3 id="dsc-section-for-benchmark-configuration"><code class="highlighter-rouge">DSC</code> section for benchmark configuration</h3>
<p>As has been discussed in previous tutorials, <code class="highlighter-rouge">DSC</code> sections defines module / pipeline ensembles and a benchmark. This DSC executes essentially two pipelines (one ending with <code class="highlighter-rouge">score_beta</code> another with <code class="highlighter-rouge">score_pi0</code>). The <code class="highlighter-rouge">R_libs</code> property specifies the R package required by the DSC. It is formatted as a github package (<code class="highlighter-rouge">pkg@repo</code>) and the minimal version requirement is <code class="highlighter-rouge">2.0.0</code>. DSC will check first if the package is available and up-to-date, and install it if necessary. It will then check its version and quit on error if it does not satisfy the requirement. <strong>For safety concerns, DSC does not attempt to upgrade/downgrade a package in cases of version mismatch.</strong></p>

<h2 id="execution-logic">Execution logic</h2>
<p>This diagram (generated by <code class="highlighter-rouge">dot</code> command using execution graph of this DSC) shows the logic of the benchmark:</p>

<p><img src="../images/ash.png" alt="ash.png" /></p>

<h2 id="run-dsc">Run DSC</h2>

<p>We now run this DSC with 10 replicates:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/GIT/dsc/vignettes/ash
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./settings.dsc <span class="nt">--replicate</span> 10
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INFO: Checking R library ashr@stephens999/ashr ...
INFO: Checking R library dscrutils@stephenslab/dsc/dscrutils ...
INFO: DSC script exported to dsc_result.html
INFO: Constructing DSC from ./settings.dsc ...
INFO: Building execution graph &amp; running DSC ...
[#########] 9 steps processed (215 jobs completed)
INFO: Building DSC database ...
INFO: DSC complete!
INFO: Elapsed time 85.268 seconds.
</code></pre></div></div>

<h2 id="benchmark-evaluation">Benchmark evaluation</h2>

<h3 id="extract-result-of-interest">Extract result of interest</h3>

<p>The <a href="https://github.com/stephens999/dscr/blob/master/vignettes/dsc_shrink.rmd">DSCR ASH example</a> has names to various simulation settings and methods. Here we use <code class="highlighter-rouge">dscrutils</code> to reproduce the DSCR example. It is similar to what we have done in the <a href="../first_course/Intro_DSC">DSC Introduction example</a>, but we will demonstrate the use of <code class="highlighter-rouge">condition</code> argument, to create 3 data-sets:</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">setwd</span><span class="p">(</span><span class="s1">'~/GIT/dsc/vignettes/ash'</span><span class="p">)</span><span class="w">
</span><span class="n">dsc_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'dsc_result'</span><span class="w">
</span></code></pre></div>    </div>
  </div>

</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">An</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dscrutils</span><span class="o">::</span><span class="n">dscquery</span><span class="p">(</span><span class="n">dsc_dir</span><span class="p">,</span><span class="w"> </span><span class="n">targets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"simulate.true_pi0"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.mixcompdist"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.beta_est"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.pi0_est"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"score.mse"</span><span class="p">),</span><span class="w">
                         </span><span class="n">condition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"simulate.g = 'list(c(2/3,1/3),c(0,0),c(1,2))'"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">
      <div class="output_stream highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Loading dsc-query output from CSV file.
Reading DSC outputs:
 - simulate.true_pi0: extracted atomic values
 - shrink.beta_est: vectors not extracted (set max.extract.vector = 1000 to extract)
 - shrink.pi0_est: extracted atomic values
 - score.mse: extracted atomic values
</code></pre></div>      </div>
    </div>
  </div>
</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Bn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dscrutils</span><span class="o">::</span><span class="n">dscquery</span><span class="p">(</span><span class="n">dsc_dir</span><span class="p">,</span><span class="w"> </span><span class="n">targets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"simulate.true_pi0"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.mixcompdist"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.beta_est"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.pi0_est"</span><span class="p">,</span><span class="w"> 
                                              </span><span class="s2">"score.mse"</span><span class="p">),</span><span class="w">
                         </span><span class="n">condition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"simulate.g = 'list(rep(1/7,7),c(-1.5,-1,-0.5,0,0.5,1,1.5),rep(0.5,7))'"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">
      <div class="output_stream highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Loading dsc-query output from CSV file.
Reading DSC outputs:
 - simulate.true_pi0: extracted atomic values
 - shrink.beta_est: vectors not extracted (set max.extract.vector = 1000 to extract)
 - shrink.pi0_est: extracted atomic values
 - score.mse: extracted atomic values
</code></pre></div>      </div>
    </div>
  </div>
</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Cn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dscrutils</span><span class="o">::</span><span class="n">dscquery</span><span class="p">(</span><span class="n">dsc_dir</span><span class="p">,</span><span class="w"> </span><span class="n">targets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"simulate.true_pi0"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.mixcompdist"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.beta_est"</span><span class="p">,</span><span class="w">
                                              </span><span class="s2">"shrink.pi0_est"</span><span class="p">,</span><span class="w"> 
                                              </span><span class="s2">"score.mse"</span><span class="p">),</span><span class="w">
                         </span><span class="n">condition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"simulate.g = 'list(c(1/4,1/4,1/3,1/6),c(-2,-1,0,1),c(2,1.5,1,1))'"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">
      <div class="output_stream highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Loading dsc-query output from CSV file.
Reading DSC outputs:
 - simulate.true_pi0: extracted atomic values
 - shrink.beta_est: vectors not extracted (set max.extract.vector = 1000 to extract)
 - shrink.pi0_est: extracted atomic values
 - score.mse: extracted atomic values
</code></pre></div>      </div>
    </div>
  </div>
</div>

<p>To view one of the resulting data frame:</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">head</span><span class="p">(</span><span class="n">An</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <div class="output output_html">
<table>
<thead><tr><th scope="col">DSC</th><th scope="col">simulate.true_pi0</th><th scope="col">shrink.mixcompdist</th><th scope="col">shrink.beta_est</th><th scope="col">shrink.pi0_est</th><th scope="col">score</th><th scope="col">score.mse</th></tr></thead>
<tbody>
	<tr><td>1                         </td><td>0.2655086631421           </td><td>normal                    </td><td>shrink/simulate_1_shrink_1</td><td>0.479283133227668         </td><td>score_beta                </td><td>0.733636317077028         </td></tr>
	<tr><td>1                         </td><td>0.2655086631421           </td><td>halfuniform               </td><td>shrink/simulate_1_shrink_2</td><td>0.601629535653703         </td><td>score_beta                </td><td>0.740144190920132         </td></tr>
	<tr><td>2                         </td><td>0.18488225992769          </td><td>normal                    </td><td>shrink/simulate_4_shrink_1</td><td>0.452896777047667         </td><td>score_beta                </td><td>0.796891360898974         </td></tr>
	<tr><td>2                         </td><td>0.18488225992769          </td><td>halfuniform               </td><td>shrink/simulate_4_shrink_2</td><td>0.536932328764306         </td><td>score_beta                </td><td>0.7969241010491           </td></tr>
	<tr><td>3                         </td><td>0.168041526339948         </td><td>normal                    </td><td>shrink/simulate_7_shrink_1</td><td>0.392852153794669         </td><td>score_beta                </td><td>0.76675369647247          </td></tr>
	<tr><td>3                         </td><td>0.168041526339948         </td><td>halfuniform               </td><td>shrink/simulate_7_shrink_2</td><td>0.436382626831545         </td><td>score_beta                </td><td>0.779603008299605         </td></tr>
</tbody>
</table>

</div>

    </div>
  </div>
</div>

<h3 id="explore-results-of-interest">Explore results of interest</h3>

<p>Suppose we are interested in comparing $\pi_0$ estimates under scenario <code class="highlighter-rouge">An</code>, for two flavors of shrink module <code class="highlighter-rouge">normal</code> and <code class="highlighter-rouge">halfuniform</code>.</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">normal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">An</span><span class="p">,</span><span class="w"> </span><span class="n">shrink.mixcompdist</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'normal'</span><span class="p">)</span><span class="w">
</span><span class="n">hu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">An</span><span class="p">,</span><span class="w"> </span><span class="n">shrink.mixcompdist</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'halfuniform'</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

</div>

<p>First, we visualize estimated vs true $\pi_0$ for two methods:</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">par</span><span class="p">(</span><span class="n">mfrow</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">))</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">subset</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'score_pi0'</span><span class="p">)</span><span class="o">$</span><span class="n">simulate.true_pi0</span><span class="p">,</span><span class="w"> 
     </span><span class="n">subset</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'score_pi0'</span><span class="p">)</span><span class="o">$</span><span class="n">shrink.pi0_est</span><span class="p">,</span><span class="w"> 
     </span><span class="n">xlab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'truth'</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'estimated'</span><span class="p">,</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'normal'</span><span class="p">,</span><span class="w"> 
     </span><span class="n">pch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#800000"</span><span class="p">,</span><span class="w"> </span><span class="n">xlim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">ylim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">))</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">subset</span><span class="p">(</span><span class="n">hu</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'score_pi0'</span><span class="p">)</span><span class="o">$</span><span class="n">simulate.true_pi0</span><span class="p">,</span><span class="w"> 
     </span><span class="n">subset</span><span class="p">(</span><span class="n">hu</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'score_pi0'</span><span class="p">)</span><span class="o">$</span><span class="n">shrink.pi0_est</span><span class="p">,</span><span class="w"> 
     </span><span class="n">xlab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'truth'</span><span class="p">,</span><span class="w"> </span><span class="n">ylab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'estimated'</span><span class="p">,</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'halfunif'</span><span class="p">,</span><span class="w"> 
     </span><span class="n">pch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"#800000"</span><span class="p">,</span><span class="w"> </span><span class="n">xlim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">ylim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">))</span><span class="w">
</span><span class="n">abline</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="m">0</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="m">1</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="../images/examples/R_Example_1_25_0.png" alt="png" /></p>

    </div>
  </div>
</div>

<p>We then summarize the MSE scores for the two methods:</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">suppressMessages</span><span class="p">(</span><span class="n">library</span><span class="p">(</span><span class="n">plotly</span><span class="p">))</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">warn</span><span class="o">=</span><span class="m">-1</span><span class="p">)</span><span class="w">
</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'score_pi0'</span><span class="p">)</span><span class="o">$</span><span class="n">score.mse</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Normal'</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"box"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">add_trace</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">hu</span><span class="p">,</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'score_pi0'</span><span class="p">)</span><span class="o">$</span><span class="n">score.mse</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Half Uniform'</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"box"</span><span class="p">)</span><span class="w">  </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"MSE for pi_0 estimate"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">export</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'mse.png'</span><span class="p">)</span><span class="w">
</span><span class="n">IRdisplay</span><span class="o">::</span><span class="n">display_png</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">"mse.png"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

    </div>
  </div>
  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="../images/examples/R_Example_1_28_1.png" alt="png" /></p>

    </div>
  </div>
</div>

<h2 id="explore-intermediate-output">Explore intermediate output</h2>

<p>We have previously focused on benchmark “results”, ie, the mean square errors. It is also possible to extract quantities of interest from any module in the benchmark. For example we want to explore relationship between “true” value and posterior estimates of $\beta$ from method <code class="highlighter-rouge">normal</code> and <code class="highlighter-rouge">halfnormal</code>. First we use <code class="highlighter-rouge">dscrutils</code> to extract these quantities:</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dat2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dscrutils</span><span class="o">::</span><span class="n">dscquery</span><span class="p">(</span><span class="n">dsc_dir</span><span class="p">,</span><span class="w">
                           </span><span class="n">targets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"simulate.true_beta"</span><span class="p">,</span><span class="w"> </span><span class="s2">"shrink.mixcompdist"</span><span class="p">,</span><span class="w"> </span><span class="s2">"shrink.beta_est"</span><span class="p">),</span><span class="w">
                           </span><span class="n">condition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"simulate.g = 'list(c(2/3,1/3),c(0,0),c(1,2))'"</span><span class="p">,</span><span class="w">
                           </span><span class="n">max.extract.vector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">
      <div class="output_stream highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Loading dsc-query output from CSV file.
Reading DSC outputs:
 - simulate.true_beta: extracted vector values
 - shrink.beta_est: extracted vector values
</code></pre></div>      </div>
    </div>
  </div>
</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">print</span><span class="p">(</span><span class="nf">dim</span><span class="p">(</span><span class="n">dat2</span><span class="p">))</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">
      <div class="output_stream highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[1]   20 2002
</code></pre></div>      </div>
    </div>
  </div>
</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">head</span><span class="p">(</span><span class="n">dat2</span><span class="p">[,</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">])</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

      <div class="output output_html">
<table>
<thead><tr><th scope="col">DSC</th><th scope="col">simulate.true_beta.1</th><th scope="col">simulate.true_beta.2</th><th scope="col">simulate.true_beta.3</th><th scope="col">simulate.true_beta.4</th></tr></thead>
<tbody>
	<tr><td>1          </td><td>1.841107   </td><td>-0.15676431</td><td>-2.7796053 </td><td> 0.0000000 </td></tr>
	<tr><td>1          </td><td>1.841107   </td><td>-0.15676431</td><td>-2.7796053 </td><td> 0.0000000 </td></tr>
	<tr><td>2          </td><td>0.000000   </td><td>-0.08736819</td><td>-0.4296717 </td><td> 2.3048867 </td></tr>
	<tr><td>2          </td><td>0.000000   </td><td>-0.08736819</td><td>-0.4296717 </td><td> 2.3048867 </td></tr>
	<tr><td>3          </td><td>0.000000   </td><td> 0.00000000</td><td>-0.3067235 </td><td>-0.2249873 </td></tr>
	<tr><td>3          </td><td>0.000000   </td><td> 0.00000000</td><td>-0.3067235 </td><td>-0.2249873 </td></tr>
</tbody>
</table>

</div>

    </div>
  </div>
</div>

<p>As shown above, with <code class="highlighter-rouge">max.extract.vector = 1000</code> we allow for extracting vector-valued $\beta$ estimates into the outputted data frame. The resulting dataframe has 2001 columns containing both $\beta$ and its posterior estimate $\tilde{\beta}<em>{\text{normal}}$ and $\tilde{\beta}</em>{\text{halfunif}}$. We make them into separate tables. Rows in each table are replicates.</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"simulate.true_beta"</span><span class="w">
</span><span class="n">cols</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">which</span><span class="p">(</span><span class="n">sapply</span><span class="p">(</span><span class="n">strsplit</span><span class="p">(</span><span class="nf">names</span><span class="p">(</span><span class="n">dat2</span><span class="p">),</span><span class="s2">"[.]"</span><span class="p">),</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">paste0</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="s1">'.'</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="m">2</span><span class="p">]))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">pattern</span><span class="p">)</span><span class="w">
</span><span class="n">normal0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">dat2</span><span class="p">,</span><span class="w"> </span><span class="n">shrink.mixcompdist</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'normal'</span><span class="p">)[,</span><span class="n">cols</span><span class="p">]</span><span class="w">
</span><span class="n">hu0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">dat2</span><span class="p">,</span><span class="w"> </span><span class="n">shrink.mixcompdist</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'halfuniform'</span><span class="p">)[,</span><span class="n">cols</span><span class="p">]</span><span class="w">                 
</span><span class="c1">#</span><span class="w">
</span><span class="n">pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"shrink.beta_est"</span><span class="w">
</span><span class="n">cols</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">which</span><span class="p">(</span><span class="n">sapply</span><span class="p">(</span><span class="n">strsplit</span><span class="p">(</span><span class="nf">names</span><span class="p">(</span><span class="n">dat2</span><span class="p">),</span><span class="s2">"[.]"</span><span class="p">),</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">paste0</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="s1">'.'</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="m">2</span><span class="p">]))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">pattern</span><span class="p">)</span><span class="w">
</span><span class="n">normal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">dat2</span><span class="p">,</span><span class="w"> </span><span class="n">shrink.mixcompdist</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'normal'</span><span class="p">)[,</span><span class="n">cols</span><span class="p">]</span><span class="w">
</span><span class="n">hu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">dat2</span><span class="p">,</span><span class="w"> </span><span class="n">shrink.mixcompdist</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'halfuniform'</span><span class="p">)[,</span><span class="n">cols</span><span class="p">]</span><span class="w">             
</span></code></pre></div>    </div>
  </div>

</div>

<p>To view distribution of $\tilde{\beta}$ from one replicate:</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">normal</span><span class="p">[</span><span class="m">1</span><span class="p">,]),</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Normal'</span><span class="p">,</span><span class="w"> </span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.9</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"histogram"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">add_trace</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">hu</span><span class="p">[</span><span class="m">1</span><span class="p">,]),</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Half Uniform'</span><span class="p">,</span><span class="w"> </span><span class="n">opacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.9</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"histogram"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Posterior mean distribution"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">export</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'beta.png'</span><span class="p">)</span><span class="w">
</span><span class="n">IRdisplay</span><span class="o">::</span><span class="n">display_png</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">"beta.png"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

    </div>
  </div>
  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="../images/examples/R_Example_1_37_1.png" alt="png" /></p>

    </div>
  </div>
</div>

<p>Now we compare correlation between estimate and the truth for these 2 methods:</p>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">normal0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.matrix</span><span class="p">(</span><span class="n">normal0</span><span class="p">)</span><span class="w">
</span><span class="n">normal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.matrix</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span><span class="w">
</span><span class="n">normal_cor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sapply</span><span class="p">(</span><span class="nf">seq.int</span><span class="p">(</span><span class="nf">dim</span><span class="p">(</span><span class="n">normal0</span><span class="p">)[</span><span class="m">1</span><span class="p">]),</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">cor</span><span class="p">(</span><span class="n">normal0</span><span class="p">[</span><span class="n">i</span><span class="p">,],</span><span class="w"> </span><span class="n">normal</span><span class="p">[</span><span class="n">i</span><span class="p">,]))</span><span class="w">
</span></code></pre></div>    </div>
  </div>

</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hu0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.matrix</span><span class="p">(</span><span class="n">hu0</span><span class="p">)</span><span class="w">
</span><span class="n">hu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">as.matrix</span><span class="p">(</span><span class="n">hu</span><span class="p">)</span><span class="w">
</span><span class="n">hu_cor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sapply</span><span class="p">(</span><span class="nf">seq.int</span><span class="p">(</span><span class="nf">dim</span><span class="p">(</span><span class="n">hu0</span><span class="p">)[</span><span class="m">1</span><span class="p">]),</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="n">cor</span><span class="p">(</span><span class="n">hu0</span><span class="p">[</span><span class="n">i</span><span class="p">,],</span><span class="w"> </span><span class="n">hu</span><span class="p">[</span><span class="n">i</span><span class="p">,]))</span><span class="w">
</span></code></pre></div>    </div>
  </div>

</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot_ly</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">normal_cor</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Normal'</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"box"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">add_trace</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hu_cor</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Half Uniform'</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"box"</span><span class="p">)</span><span class="w">  </span><span class="o">%&gt;%</span><span class="w"> 
    </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Correlation between truth and estimates for beta"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

</div>

<div class="cell code_cell">
  <div class="input_area">
    <div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">export</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'corr.png'</span><span class="p">)</span><span class="w">
</span><span class="n">IRdisplay</span><span class="o">::</span><span class="n">display_png</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">"corr.png"</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </div>

  <div class="output_wrapper">
    <div class="output_subarea">

    </div>
  </div>
  <div class="output_wrapper">
    <div class="output_subarea">

      <p class="output_png"><img src="../images/examples/R_Example_1_42_1.png" alt="png" /></p>

    </div>
  </div>
</div>

              <nav class="c-page__nav">
  
    
    <a id="js-page__nav__prev" class="c-page__nav__prev" href="/dsc-wiki/examples">
      〈 <span class="u-margin-right-tiny"></span> Benchmark examples
    </a>
  

  
    
    <a id="js-page__nav__next" class="c-page__nav__next" href="/dsc-wiki/examples/R_Example_2">
      R Example 2 <span class="u-margin-right-tiny"></span> 〉
    </a>
  
</nav>

            </div>
          </div>
        </div>
      </main>
    </div>

  </body>
</html>
